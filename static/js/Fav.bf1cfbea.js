(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Fav"],{"0f55":function(e,t,i){"use strict";i("e6ed")},4563:function(e,t,i){"use strict";i("930d")},"793c":function(e,t,i){"use strict";i("d840")},8363:function(e,t,i){"use strict";var o=i("7a23"),c={class:"popup-title"},n={class:"footer"};function r(e,t,i,r,a,s){var l=Object(o["resolveComponent"])("van-field"),u=Object(o["resolveComponent"])("van-button"),d=Object(o["resolveComponent"])("van-form"),p=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{show:s.dialogVisible,"onUpdate:show":t[2]||(t[2]=function(e){return s.dialogVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h3",c,Object(o["toDisplayString"])(e.$t("editRemark")),1),Object(o["createVNode"])(d,{class:"popup-content",onSubmit:s.onSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{modelValue:a.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.title=e}),label:"",placeholder:e.$t("maximum50characters"),clearable:"",rules:a.rules},null,8,["modelValue","placeholder","rules"]),Object(o["createElementVNode"])("div",n,[Object(o["createVNode"])(u,{class:"btn",type:"default",round:"",onClick:t[1]||(t[1]=function(e){return s.dialogVisible=!1})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("cancel")),1)]})),_:1}),Object(o["createVNode"])(u,{class:"btn","native-type":"submit",type:"primary",round:""},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])}var a={name:"EditRemark",props:{visible:Boolean,confirmSubmit:Function,initRemark:String},emits:["update:visible","onSubmit"],data:function(){var e=function(e){return(null===e||void 0===e?void 0:e.length)<=50};return{title:this.initRemark||"",rules:[{required:!0,message:this.$t("enterRemark")},{validator:e,message:this.$t("maximum50characters")}]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},watch:{visible:function(e){e&&(this.title=this.initRemark||"")}},methods:{onSubmit:function(){this.confirmSubmit(this.title)}}},s=(i("0f55"),i("6b0d")),l=i.n(s);const u=l()(a,[["render",r],["__scopeId","data-v-413dca5e"]]);t["a"]=u},"930d":function(e,t,i){},ac15:function(e,t,i){"use strict";i("fd80")},d51a:function(e,t,i){"use strict";i.r(t);i("b0c0");var o=i("7a23"),c=function(e){return Object(o["pushScopeId"])("data-v-5f24a9b0"),e=e(),Object(o["popScopeId"])(),e},n={class:"fav-tabs-container"},r={key:0,class:"tag"},a=c((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-edit"},null,-1)}));function s(e,t,i,c,s,l){var u=Object(o["resolveComponent"])("van-tab"),d=Object(o["resolveComponent"])("van-tabs"),p=Object(o["resolveComponent"])("router-link"),b=Object(o["resolveComponent"])("favorite-list"),v=Object(o["resolveComponent"])("nft-favorite-list");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",n,[Object(o["createVNode"])(d,{class:"fav-tabs",active:s.activeGroup,"onUpdate:active":t[0]||(t[0]=function(e){return s.activeGroup=e}),color:"#558BED",ellipsis:!1,background:"transparent"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.groups,(function(t,i){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:i,title:0!==t.group_id?t.name:e.$t("defaultGroup"),name:t.id},{title:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(0!==t.group_id?t.name:e.$t("defaultGroup"))+" ",1),"nft"===t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",r,"nft")):Object(o["createCommentVNode"])("",!0)]})),_:2},1032,["title","name"])})),128))]})),_:1},8,["active"]),Object(o["createVNode"])(p,{class:"btn-manage",to:{name:"FavoriteManage",params:{id:"1",type:l.activeType}}},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["to"])]),"1"===l.activeType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,tableList:s.favoritesList,isFavorites:"",activeGroup:l.activeGroupId,onRefresh:l.getUserFavorites},null,8,["tableList","activeGroup","onRefresh"])):Object(o["createCommentVNode"])("",!0),"2"===l.activeType?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:1,tableList:s.nftFavoritesList,isFavorites:!1,activeGroup:l.activeGroupId,onRefresh:l.getUserNftFavorites},null,8,["tableList","activeGroup","onRefresh"])):Object(o["createCommentVNode"])("",!0)],64)}var l=i("1da1"),u=i("5530"),d=(i("96cf"),i("a9e3"),i("ac1f"),i("1276"),i("d81d"),i("7db0"),i("d3b7"),i("99af"),i("365c")),p={class:"table"},b={class:"table-list"},v={class:"table-item table-header"},m={class:"table-item_d"},f={class:"icon-sort-container"},h={class:"icon-sort-container"},O=["onClick","onTouchstart"],j={class:"token-info table-item_d"},g={class:"icon-token-container"},k=["src"],y={class:"token-symbol"},$={class:"van-ellipsis",style:{"max-width":"100px"}},w=["onClick"],C={class:"table-item_d"},_={class:"table-item_d"};function S(e,t,i,c,n,r){var a,s=Object(o["resolveComponent"])("loading"),l=Object(o["resolveComponent"])("van-image"),u=Object(o["resolveComponent"])("van-button"),d=Object(o["resolveComponent"])("van-popover"),S=Object(o["resolveComponent"])("DynamicScrollerItem"),N=Object(o["resolveComponent"])("DynamicScroller"),B=Object(o["resolveComponent"])("van-empty"),V=Object(o["resolveComponent"])("ChangeGroup"),E=Object(o["resolveComponent"])("EditRemark"),L=Object(o["resolveDirective"])("animation-trigger");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[Object(o["createVNode"])(s,{active:r.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return r.isLoading=e}),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"#000",color:"#558BED","is-full-page":!1},null,8,["active","opacity"]),Object(o["createElementVNode"])("ul",b,[Object(o["createElementVNode"])("li",v,[Object(o["createElementVNode"])("span",m,Object(o["toDisplayString"])(e.$t("token")),1),Object(o["createElementVNode"])("div",{class:"table-item_d",onClick:t[3]||(t[3]=function(e){return r.switchSort("current_price_usd")})},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("lastPrice"))+"($)",1),Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-up",{active:1===n.activeSort&&"current_price_usd"===n.sortBy}]),onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){n.activeSort=1,n.sortBy="current_price_usd"}),["stop"]))},null,2),Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-down",{active:-1===n.activeSort&&"current_price_usd"===n.sortBy}]),onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(e){n.activeSort=-1,n.sortBy="current_price_usd"}),["stop"]))},null,2)])]),Object(o["createElementVNode"])("div",{class:"table-item_d",onClick:t[6]||(t[6]=function(e){return r.switchSort("price_change")})},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("change")),1),Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-up",{active:1===n.activeSort&&"price_change"===n.sortBy}]),onClick:t[4]||(t[4]=Object(o["withModifiers"])((function(e){n.activeSort=1,n.sortBy="price_change"}),["stop"]))},null,2),Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-down",{active:-1===n.activeSort&&"price_change"===n.sortBy}]),onClick:t[5]||(t[5]=Object(o["withModifiers"])((function(e){n.activeSort=-1,n.sortBy="price_change"}),["stop"]))},null,2)])])]),(null===(a=r.tableListSort)||void 0===a?void 0:a.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:0,items:r.tableListSort,"min-item-size":30,"page-mode":"",class:"scroller"},{default:Object(o["withCtx"])((function(i){var c=i.item,a=i.index,s=i.active;return[Object(o["createVNode"])(S,{item:c,active:s,"data-index":a},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{show:n.showPopover[c.id],"onUpdate:show":function(e){return n.showPopover[c.id]=e},actions:r.actions(c.id),theme:"dark",trigger:"click",overlay:"","overlay-style":{"background-color":"transparent"},onSelect:function(e){return r.onSelect(c,e)}},{reference:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"table-item",onClick:Object(o["withModifiers"])((function(e){return r.tableRowClick(c)}),["stop","prevent"]),onContextmenu:t[7]||(t[7]=Object(o["withModifiers"])((function(){}),["prevent"])),onTouchstart:function(e){return r.longTap(c)},onTouchmove:t[8]||(t[8]=function(){return r.clearTouch&&r.clearTouch.apply(r,arguments)}),onTouchend:t[9]||(t[9]=function(){return r.clearTouch&&r.clearTouch.apply(r,arguments)})},[Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",g,[(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:c.token+c.network,round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(c),"error-icon":e.$f.formatDefaultIcon(c)},null,8,["src","error-icon"])),c.network?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(c.network,".png"),alt:"",srcset:""},null,8,k)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("span",$,Object(o["toDisplayString"])(c.symbol),1),c.remark?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn-remark van-ellipsis",onClick:Object(o["withModifiers"])((function(e){return r.handleEditRemark(c)}),["stop","prevent"])},Object(o["toDisplayString"])(c.remark),9,w)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",C,Object(o["toDisplayString"])(e.$f.formatNumber2(c.current_price_usd||0)),1),Object(o["createElementVNode"])("div",_,[c.price_change&&c.price_change>=0?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"button-priceChange",color:e.$store.getters.upColor[3],size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("+"+Object(o["toDisplayString"])(c.price_change||0)+"%",1)]})),_:2},1032,["color"])):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,class:"button-priceChange",color:e.$store.getters.downColor[3],size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(c.price_change||0)+"%",1)]})),_:2},1032,["color"]))])],40,O)),[[L,c.current_price_usd,"animation-bg"]])]})),_:2},1032,["show","onUpdate:show","actions","onSelect"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])(B,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],r.tableListSort&&0===r.tableListSort.length&&!i.loading]])]),Object(o["createVNode"])(V,{visible:n.visible,"onUpdate:visible":t[10]||(t[10]=function(e){return n.visible=e}),selected:r.curGroup,"onUpdate:selected":t[11]||(t[11]=function(e){return r.curGroup=e}),title:e.$t("pleaseSelectGroup"),groups:r.groups,onSelect:r.confirmSwitchGroup},null,8,["visible","selected","title","groups","onSelect"]),Object(o["createVNode"])(E,{visible:n.visible4,"onUpdate:visible":t[12]||(t[12]=function(e){return n.visible4=e}),initRemark:n.curRemark,confirmSubmit:r.confirmEditRemark},null,8,["visible","initRemark","confirmSubmit"])])}i("fb6a"),i("4e82"),i("c740"),i("caad"),i("2532");var N=i("c3ff"),B=i("8363"),V={name:"FavoriteList",props:{tableList:Array,loading:{type:Boolean,default:!1},activeGroup:{type:Number,default:0},isFavorites:{type:Boolean,default:!0}},emits:["update:activeGroup","refresh"],components:{ChangeGroup:N["a"],EditRemark:B["a"]},data:function(){return{showPopover:{},timer:null,listLoading:!1,finished:!1,list:[],selectedToken:{},visible:!1,activeSort:0,sortBy:"",visible4:!1,curRemark:"",curToken:{}}},computed:{isLoading:function(){return this.loading},groups:function(){return this.$store.state.userFavoriteGroups},curGroup:{get:function(){return this.activeGroup},set:function(e){this.$emit("update:activeGroup",e)}},tableListSort:function(){var e=this;if(0===this.activeSort||""===this.sortBy)return this.tableList;var t=this.tableList.slice(0);return t.sort((function(t,i){return((t[e.sortBy]||0)-(i[e.sortBy]||0))*e.activeSort}))}},methods:{actions:function(e){var t,i,o,c,n=this.tableList.findIndex((function(t){return t.id===e}));return[{text:this.$t("top"),id:0,disabled:0===n},{text:this.$t("up"),id:null===(t=this.tableList)||void 0===t||null===(i=t[n-1])||void 0===i?void 0:i.id,disabled:0===n},{text:this.$t("down"),id:null===(o=this.tableList)||void 0===o||null===(c=o[n+1])||void 0===c?void 0:c.id,disabled:n===this.tableList.length-1},{text:this.$t("move"),id:"move",disabled:!1},{text:this.$t("remark"),id:"remark",disabled:!1},{text:this.$t("delete"),id:"delete",disabled:!1}]},tableRowClick:function(e){var t;"brc20"===e.chain||null!==e&&void 0!==e&&null!==(t=e.token)&&void 0!==t&&t.includes("inscription")||"runes"===e.chain?this.$router.push({name:"Brc",params:{type:"token",id:e.id}}):this.$router.push({name:"Token",params:{type:"token",id:e.id}})},longTap:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.timer=null,t.showPopover[e.id]=!0}),800)},clearTouch:function(){this.timer&&clearTimeout(this.timer)},onSelect:function(e,t){var i=this;if(this.$f.verifyLogin())if("move"===t.id)this.switchGroup(e);else if("delete"===t.id)this.removeFavorite(e);else if("remark"===t.id)this.handleEditRemark(e);else if(0===t.id){var o=this.$toast.loading({forbidClick:!0,duration:0});Object(d["p"])(e.id,this.activeGroup).then((function(){i.$emit("refresh"),i.$notify({type:"success",message:i.$t("success")})})).catch((function(e){console.log(e),i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){o.clear()}))}else{var c=this.$toast.loading({forbidClick:!0,duration:0});Object(d["o"])(e.id,t.id,this.activeGroup).then((function(){i.$emit("refresh"),i.$notify({type:"success",message:i.$t("success")})})).catch((function(e){console.log(e),i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){c.clear()}))}},switchGroup:function(e){this.selectedToken=e,this.visible=!0},confirmSwitchGroup:function(e){var t=this;if(this.$f.verifyLogin())if(this.activeGroup!==e){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(d["Nc"])(this.selectedToken.token+"-"+this.selectedToken.chain,e).then((function(){t.$emit("refresh"),t.$notify({type:"success",message:t.$t("success")}),t.visible=!1})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}else this.visible=!1},removeFavorite:function(e){var t=this,i=this.$toast.loading({forbidClick:!0,duration:0});Object(d["Sc"])(e.id).then((function(){t.$emit("refresh"),t.$store.dispatch("getUserFavorites"),t.$notify({type:"success",message:t.$t("success")}),t.visible1=!1})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))},switchSort:function(e){if(this.sortBy!==e)return this.sortBy=e,void(this.activeSort=1);this.activeSort++,this.activeSort>1&&(this.activeSort=-1)},handleEditRemark:function(e){this.curRemark=e.remark||"",this.curToken=e,this.visible4=!0},confirmEditRemark:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0}),o=this.curToken.token+"-"+this.curToken.chain;Object(d["D"])(o,e).then((function(){t.$emit("refresh"),t.visible4=!1,t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}}}},E=(i("4563"),i("6b0d")),L=i.n(E);const T=L()(V,[["render",S],["__scopeId","data-v-2c5d8858"]]);var x=T,G=function(e){return Object(o["pushScopeId"])("data-v-55609294"),e=e(),Object(o["popScopeId"])(),e},R={class:"table"},F={class:"table-list"},D={class:"table-item table-header"},U=G((function(){return Object(o["createElementVNode"])("span",{class:"table-item_d"},"NFT",-1)})),P={class:"icon-sort-container"},z={class:"icon-sort-container"},I=["onClick","onTouchstart"],M={class:"token-info table-item_d"},A={class:"icon-token-container"},q=["src"],J={class:"token-symbol"},W={class:"token-symbol van-multi-ellipsis--l2"},H=["onClick"],K={class:"table-item_d"},Q=Object(o["createTextVNode"])(" -- "),X={class:"table-item_d"},Y=Object(o["createTextVNode"])(" -- ");function Z(e,t,c,n,r,a){var s,l=Object(o["resolveComponent"])("loading"),u=Object(o["resolveComponent"])("van-image"),d=Object(o["resolveComponent"])("van-button"),p=Object(o["resolveComponent"])("van-popover"),b=Object(o["resolveComponent"])("DynamicScrollerItem"),v=Object(o["resolveComponent"])("DynamicScroller"),m=Object(o["resolveComponent"])("van-empty"),f=Object(o["resolveComponent"])("ChangeGroup"),h=Object(o["resolveComponent"])("EditRemark");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",R,[Object(o["createVNode"])(l,{active:a.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return a.isLoading=e}),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"#000",color:"#558BED","is-full-page":!1},null,8,["active","opacity"]),Object(o["createElementVNode"])("ul",F,[Object(o["createElementVNode"])("li",D,[U,Object(o["createElementVNode"])("div",{class:"table-item_d",onClick:t[3]||(t[3]=function(e){return a.switchSort("price")})},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("lastPrice")),1),Object(o["createElementVNode"])("div",P,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-up",{active:1===r.activeSort&&"price"===r.sortBy}]),onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){r.activeSort=1,r.sortBy="price"}),["stop"]))},null,2),Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-down",{active:-1===r.activeSort&&"price"===r.sortBy}]),onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(e){r.activeSort=-1,r.sortBy="price"}),["stop"]))},null,2)])]),Object(o["createElementVNode"])("div",{class:"table-item_d",onClick:t[6]||(t[6]=function(e){return a.switchSort("price_change")})},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("change")),1),Object(o["createElementVNode"])("div",z,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-up",{active:1===r.activeSort&&"price_change"===r.sortBy}]),onClick:t[4]||(t[4]=Object(o["withModifiers"])((function(e){r.activeSort=1,r.sortBy="price_change"}),["stop"]))},null,2),Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont icon-sort-down",{active:-1===r.activeSort&&"price_change"===r.sortBy}]),onClick:t[5]||(t[5]=Object(o["withModifiers"])((function(e){r.activeSort=-1,r.sortBy="price_change"}),["stop"]))},null,2)])])]),(null===(s=a.tableListSort)||void 0===s?void 0:s.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,items:a.tableListSort,"min-item-size":30,"key-field":"id","page-mode":"",class:"scroller"},{default:Object(o["withCtx"])((function(c){var n=c.item,s=c.index,l=c.active;return[Object(o["createVNode"])(b,{item:n,active:l,"data-index":s},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{show:r.showPopover[n.id],"onUpdate:show":function(e){return r.showPopover[n.id]=e},actions:a.actions(n.id),theme:"dark",trigger:"click",overlay:"","overlay-style":{"background-color":"transparent"},onSelect:function(e){return a.onSelect(n,e)}},{reference:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("li",{class:"table-item",onClick:Object(o["withModifiers"])((function(e){return a.tableRowClick(n)}),["stop","prevent"]),onContextmenu:t[7]||(t[7]=Object(o["withModifiers"])((function(){}),["prevent"])),onTouchstart:function(e){return a.longTap(n)},onTouchmove:t[8]||(t[8]=function(){return a.clearTouch&&a.clearTouch.apply(a,arguments)}),onTouchend:t[9]||(t[9]=function(){return a.clearTouch&&a.clearTouch.apply(a,arguments)})},[Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("div",A,[(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:s,round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:e.$f.formatImage(null===n||void 0===n?void 0:n.logo),"error-icon":i("aecc")},null,8,["src","error-icon"])),null!==n&&void 0!==n&&n.network||null!==n&&void 0!==n&&n.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat((null===n||void 0===n?void 0:n.network)||(null===n||void 0===n?void 0:n.chain),".png"),alt:"",srcset:""},null,8,q)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",J,[Object(o["createElementVNode"])("span",W,Object(o["toDisplayString"])(n.name),1),n.remark?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn-remark van-ellipsis",onClick:Object(o["withModifiers"])((function(e){return a.handleEditRemark(n)}),["stop","prevent"])},Object(o["toDisplayString"])(n.remark),9,H)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",K,[null!==n&&void 0!==n&&n.price_m?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(null===n||void 0===n?void 0:n.price_m,3,10))+" "+Object(o["toDisplayString"])(null===n||void 0===n?void 0:n.token_symbol),1)],64)):null!==n&&void 0!==n&&n.floor_price_m?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(null===n||void 0===n?void 0:n.floor_price_m,3,10))+" "+Object(o["toDisplayString"])(null===n||void 0===n?void 0:n.token_symbol),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Q],64))]),Object(o["createElementVNode"])("div",X,[n.price_m?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[n.price_change&&n.price_change>=0?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"button-priceChange",color:e.$store.getters.upColor[3],size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("+ "+Object(o["toDisplayString"])(n.price_change+"%"||!1),1)]})),_:2},1032,["color"])):(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,class:"button-priceChange",color:e.$store.getters.downColor[3],size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.price_change+"%"||!1),1)]})),_:2},1032,["color"]))],64)):n.floor_price_m?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[n.floor_price_change&&n.floor_price_change>=0?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"button-priceChange",color:e.$store.getters.upColor[3],size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("+ "+Object(o["toDisplayString"])(n.floor_price_change+"%"||!1),1)]})),_:2},1032,["color"])):(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,class:"button-priceChange",color:e.$store.getters.downColor[3],size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.floor_price_change+"%"||!1),1)]})),_:2},1032,["color"]))],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Y],64))])],40,I)]})),_:2},1032,["show","onUpdate:show","actions","onSelect"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])(m,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],a.tableListSort&&0===a.tableListSort.length&&!a.isLoading||!a.tableListSort]])]),Object(o["createVNode"])(f,{visible:r.visible,"onUpdate:visible":t[10]||(t[10]=function(e){return r.visible=e}),selected:a.curGroup,"onUpdate:selected":t[11]||(t[11]=function(e){return a.curGroup=e}),title:e.$t("pleaseSelectGroup"),groups:a.groups,type:"2",onSelect:a.confirmSwitchGroup},null,8,["visible","selected","title","groups","onSelect"]),Object(o["createVNode"])(h,{visible:r.visible4,"onUpdate:visible":t[12]||(t[12]=function(e){return r.visible4=e}),initRemark:r.curRemark,confirmSubmit:a.confirmEditRemark},null,8,["visible","initRemark","confirmSubmit"])])}var ee={name:"NFtList",props:{tableList:Array,loading:{type:Boolean,default:!1},activeGroup:{type:Number,default:0},isFavorites:{type:Boolean,default:!0},isVirtualScroller:{type:Boolean,default:!1}},emits:["update:activeGroup","refresh"],components:{ChangeGroup:N["a"],EditRemark:B["a"]},data:function(){return{activeSort:0,sortBy:"",selectedToken:{},visible:!1,showPopover:{},timer:null,curRemark:"",curToken:{},visible4:!1}},computed:{isLoading:function(){return this.loading},groups:function(){return this.$store.state.userNftFavoriteGroups},curGroup:{get:function(){return this.activeGroup},set:function(e){this.$emit("update:activeGroup",e)}},tableListSort:function(){var e=this;if(0===this.activeSort||""===this.sortBy)return this.tableList;var t=this.tableList.slice(0);return"price"===this.sortBy?t.sort((function(t,i){return(((null===t||void 0===t?void 0:t.price_m)||(null===t||void 0===t?void 0:t.floor_price_m)||0)-((null===i||void 0===i?void 0:i.price_m)||(null===i||void 0===i?void 0:i.floor_price_m)||0))*e.activeSort})):t.sort((function(t,i){return(((null===t||void 0===t?void 0:t.price_change)||(null===t||void 0===t?void 0:t.floor_price_change)||0)-((null===i||void 0===i?void 0:i.price_change)||(null===i||void 0===i?void 0:i.floor_price_change)||0))*e.activeSort}))}},methods:{actions:function(e){var t,i,o,c,n=this.tableList.findIndex((function(t){return t.id===e}));return[{text:this.$t("top"),id:0,disabled:0===n},{text:this.$t("up"),id:null===(t=this.tableList)||void 0===t||null===(i=t[n-1])||void 0===i?void 0:i.id,disabled:0===n},{text:this.$t("down"),id:null===(o=this.tableList)||void 0===o||null===(c=o[n+1])||void 0===c?void 0:c.id,disabled:n===this.tableList.length-1},{text:this.$t("move"),id:"move",disabled:!1},{text:this.$t("remark"),id:"remark",disabled:!1},{text:this.$t("delete"),id:"delete",disabled:!1}]},longTap:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.timer=null,t.showPopover[e.id]=!0}),800)},clearTouch:function(){this.timer&&clearTimeout(this.timer)},onSelect:function(e,t){var i=this;if(this.$f.verifyLogin())if("move"===t.id)this.switchGroup(e);else if("delete"===t.id)this.removeNftFavorite(e);else if("remark"===t.id)this.handleEditRemark(e);else if(0===t.id){var o=this.$toast.loading({forbidClick:!0,duration:0});Object(d["u"])(e.id,this.activeGroup).then((function(){i.$emit("refresh"),i.$notify({type:"success",message:i.$t("success")})})).catch((function(e){console.log(e),i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){o.clear()}))}else{var c=this.$toast.loading({forbidClick:!0,duration:0});Object(d["t"])(e.id,t.id,this.activeGroup).then((function(e){i.$emit("refresh"),i.$notify({type:"success",message:i.$t("success")})})).catch((function(e){console.log(e),i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){c.clear()}))}},collect:function(e){this.$store.dispatch("collect",e)},tableRowClick:function(e){this.$router.push({name:"NFT",params:{id:e.id+"-"+e.chain},query:{floor:e.floor_price_m>0?1:0}})},switchGroup:function(e){this.selectedToken=e,this.visible=!0},confirmSwitchGroup:function(e){var t=this;if(this.$f.verifyLogin())if(this.activeGroup!==e){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(d["Oc"])(this.selectedToken.id,e).then((function(e){t.$emit("refresh"),t.$notify({type:"success",message:t.$t("success")}),t.visible=!1})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}else this.visible=!1},removeNftFavorite:function(e){var t=this,i=this.$toast.loading({forbidClick:!0,duration:0});Object(d["Wc"])(e.id).then((function(){t.$emit("refresh"),t.$store.dispatch("getUserFavorites"),t.$notify({type:"success",message:t.$t("success")}),t.visible1=!1})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))},switchSort:function(e){if(this.sortBy!==e)return this.sortBy=e,void(this.activeSort=1);this.activeSort++,this.activeSort>1&&(this.activeSort=-1)},handleEditRemark:function(e){this.curRemark=e.remark||"",this.curToken=e,this.visible4=!0},confirmEditRemark:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(d["C"])(this.curToken.id,e).then((function(){t.$emit("refresh"),t.visible4=!1,t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}}}};i("793c");const te=L()(ee,[["render",Z],["__scopeId","data-v-55609294"]]);var ie=te,oe={name:"Plate",components:{FavoriteList:x,NftFavoriteList:ie},data:function(){return{active:this.$route.params.id||"1",Timer:null,loading:!1,activeGroup:"0-1",activeNftGroup:0,favoritesList:[],nftFavoritesList:[]}},computed:{groups:function(){return this.$store.state.userAllFavoriteGroups||[]},nftGroups:function(){return this.$store.state.userNftFavoriteGroups||[]},activeGroupId:function(){var e,t,i;return Number((null===(e=this.activeGroup)||void 0===e||null===(t=e.split)||void 0===t||null===(i=t.call(e,"-"))||void 0===i?void 0:i[0])||0)},activeType:function(){var e,t,i;return(null===(e=this.activeGroup)||void 0===e||null===(t=e.split)||void 0===t||null===(i=t.call(e,"-"))||void 0===i?void 0:i[1])||"1"}},watch:{"$store.state.signatureObj":{handler:function(){this.getUserFavoriteList()},deep:!0},activeGroup:function(){this.getUserFavoriteList()},activeNftGroup:function(){this.getUserFavoriteList()},groups:{handler:function(){this.activeGroup="0-1"},deep:!0},nftGroups:{handler:function(){this.activeNftGroup=0},deep:!0},"$store.state.currentAccount":function(e){e&&"Fav"===this.$route.name&&this.getUserFavoriteList()},"$store.state.ws.isConnected":function(e){var t;e&&((null===(t=this.$store.state.ws.multiPriceParams)||void 0===t?void 0:t.main.length)>0&&this.$store.dispatch("subMultiPrice"))},"$store.state.ws.multiPriceResult":function(e){var t=this.favoritesList.map((function(t){var i=e.find((function(e){return e.token_id===t.id}));return i?Object(u["a"])(Object(u["a"])({},t),{},{current_price_usd:i.price,price_change:i.price_change,direction:(null===i||void 0===i?void 0:i.direction)||"down"}):t}));this.favoritesList=t}},beforeRouteLeave:function(){this.$store.dispatch("unSubMultiPrice")},activated:function(){this.init()},methods:{init:function(){this.getUserFavoriteList()},getUserFavoriteList:function(){"1"===this.activeType?this.getUserFavorites():"2"===this.activeType&&this.getUserNftFavorites()},getUserFavorites:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["mb"])(e.activeGroupId).catch(Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))));case 2:e.favoritesList=t.sent.map((function(e){return Object(u["a"])(Object(u["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:null!==e&&void 0!==e&&e.price_change?(null===e||void 0===e?void 0:e.price_change)/100:0,priceUSD:(null===e||void 0===e?void 0:e.current_price_usd)||0,collected:!0,price_change:"brc20"==(null===e||void 0===e?void 0:e.chain)?e.price_change_v2:e.price_change})})),o=null===(i=e.favoritesList)||void 0===i?void 0:i.map((function(e){return"".concat(e.token,"-").concat(e.chain)})),e.$store.commit("setWsState",{name:"multiPriceParams",value:Object(u["a"])(Object(u["a"])({},e.$store.state.ws.multiPriceParams),{main:o})}),e.$store.dispatch("subMultiPrice");case 6:case"end":return t.stop()}}),t)})))()},getUserNftFavorites:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["Eb"])(e.activeGroupId).catch(Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))));case 2:e.nftFavoritesList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}};i("ac15");const ce=L()(oe,[["render",s],["__scopeId","data-v-5f24a9b0"]]);t["default"]=ce},d840:function(e,t,i){},e6ed:function(e,t,i){},fd80:function(e,t,i){}}]);